<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="./js/elt.js"></script>
</head>
<body>
  <script>
    function createIconEditor(parent, nx, ny){
      // color 선택
      const color = elt("input", {type:"color"});
      const clear = elt("input", {type:"button", value:"모두 삭제"});
      clear.onclick = function(e){
        cells.forEach((td) => {
          td.style.backgroundColor = "white";
        });
      }
      const table = elt("table");
      table.style.borderCollapse = "collapse";
      table.style.marginTop = "5px";
      let cells = [];

      for(let j=0; j<ny; j++){
        const tr = elt("tr");
        table.appendChild(tr);
        for (let i=0; i<nx; i++ ){
          const td = elt("td");
          cells.push(td);
          td.style.width = td.style.height = "15px";
          td.style.border = "1px solid gray";
          tr.appendChild(td);
          td.onclick = function changeColor(e){
            e.target.style.backgroundColor = color.value;
          };
        }
      }
      parent.appendChild(color);
      parent.appendChild(clear);
      parent.appendChild(table);
    }

    createIconEditor(document.body, 16, 16);
  </script>
</body>
</html>